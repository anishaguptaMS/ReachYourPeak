
   <div class="col-xs-12">
        <h3>Cycles</h3>               
        <div class="DataTables">
            <table id="cyclesTableId" class="table table-striped table-bordered" cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th>ID</th><th>Name</th><th>Year</th><th>Start Date</th><th>End date</th><th>Active status</th><th></th>
                    </tr>
                </thead>
                <tbody>
                
                </tbody>
             </table>
             
        </div>
        <button class="btn btn-secondary" onclick="loadPage('admin/editCycle.html', {'requiresSession' : true, 'action' : 'new' });"> Add a new cycle </button>
        
        <br>
        <br>
        
        <button class="btn btn-secondary" onclick="loadPage('menuAdmin.html', {requiresSession: true })"> Back to menu </button>
   </div>
   
   
<script>

function loadCycles() {
    var cycleTable = $('#cyclesTableId').DataTable({
        'dom' : 'Bfrtip',
		'buttons' : [ 'excel' ],   
        "ajax" : 'db/allCycles.php',
        "columns"  : [
            { 'data' : 'ID' },
            { 'data' : 'name' },
            { 'data' : 'year' },
            { 'data' : "start_date"},
            { 'data' : 'end_date' },
            { 'data' : 'active_flag' },
            {
				'data' : null,
				'orderable' : false,
				'render' : function(data, type, row) { 
					return renderEditButton({ 'page' :'admin/editCycle.html', 'id' : row['ID'] }); 
				}
			}
        ]
    }); 
}

$(document).ready(function() {
    requiresSession();
    loadCycles();
});

</script>   